@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
     @Styles.Render("~/Content/css")
<body>
    <div>
    <ul class="nav nav-pills nav-stacked" id="data_Item">
      
   </ul>
    </div>
</body>
      @Scripts.Render("~/bundles/jquery")
     @Scripts.Render("~/bundles/bootstrap")
    <script type="text/javascript">
        $(document).ready(function () {
            //$.ajax({
            //    url: '/DashBoard/getCandidates',
            //    method: 'POST',
            //    data: {  },
            //    //traditional: true,
            //    success: function (data) {
            //        debugger;
                    
            //       // alert(data.data[0].AreaId);
            //        for (var i = 0; i < data.data1.length; i++) {
            //            var male=0,female=0;
            //            for (var j = 0; j < data.data.length; j++) {
                           
            //                if (data.data1[i].Area == data.data[j].Area.Area) {
            //                    // $('#data_Item li:last').after('<li><a href="#">' + data.data[i].Area.Area + '</a></li>');
                                
            //                    if (data.data[j].Gender == true) {
            //                        male++;
            //                    }
            //                    else if (data.data[j].Gender == false)
            //                    {
            //                        female++;
            //                    }
            //                }
                           
            //            }
            //            $('#data_Item').append('<li><a href="#">' + data.data1[i].Area + '</a><ul class="nav nav-pills nav-stacked"><li class="active"><a href="#"><span class="badge pull-right">' + male + '</span>Male</a></li><li class="active"><a href="#"><span class="badge pull-right">' + female + '</span>Female</a></li></ul>');
            //        }
            //        //alert('success');
            //        //alert(data.data);
            //        //alert(ajaxresult);
            //        // return ajaxresult;
            //    },
            //    error: function (data) {
            //        debugger;
            //        alert('fail');
            //        console.log(data);
            //        alert(data.data);
            //    }
            //});
        });
    </script>
    
    <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.0.1.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.--> 
    <script>
        $(function () {
            // Reference the auto-generated proxy for the hub.  
            var chat = $.connection.broadCast;
            // Create a function that the hub can call back to display messages.
            chat.client.addNewMessageToPage = function (name, message) {
                // Add the message to the page. 
                $.ajax({
                    url: '/DashBoard/getCandidates',
                    method: 'POST',
                    data: {},
                    //traditional: true,
                    success: function (data) {
                        debugger;
                        $('#data_Item').empty();
                        // alert(data.data[0].AreaId);
                        for (var i = 0; i < data.data1.length; i++) {
                            var male = 0, female = 0;
                            for (var j = 0; j < data.data.length; j++) {

                                if (data.data1[i].Area == data.data[j].Area.Area) {
                                    // $('#data_Item li:last').after('<li><a href="#">' + data.data[i].Area.Area + '</a></li>');

                                    if (data.data[j].Gender == true) {
                                        male++;
                                    }
                                    else if (data.data[j].Gender == false) {
                                        female++;
                                    }
                                }

                            }
                            
                            $('#data_Item').append('<li><a href="#">' + data.data1[i].Area + '</a><ul class="nav nav-pills nav-stacked"><li class="active"><a href="#"><span class="badge pull-right">' + male + '</span>Male</a></li><li class="active"><a href="#"><span class="badge pull-right">' + female + '</span>Female</a></li></ul>');
                        }
                        //alert('success');
                        //alert(data.data);
                        //alert(ajaxresult);
                        // return ajaxresult;
                    },
                    error: function (data) {
                        debugger;
                        alert('fail');
                        console.log(data);
                        alert(data.data);
                    }
                });
            };
            // Get the user name and store it to prepend to messages.
          //  $('#displayname').val(prompt('Enter your name:', ''));
            // Set initial focus to message input box.  
          //  $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
               // $('#sendmessage').click(function () {
                    // Call the Send method on the hub. 
                    chat.server.hello();
                    // Clear text box and reset focus for next comment. 
                    $('#message').val('').focus();
               // });
            });
        });
        // This optional function html-encodes messages for display in the page.
        function htmlEncode(value) {
            var encodedValue = $('<div />').text(value).html();
            return encodedValue;
        }
    </script>

</html>
